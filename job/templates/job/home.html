{% extends 'base.html' %}

{% load staticfiles %}
{% block import %}
    <script type="text/javascript" src="{% static 'job/JavaScript/home.js' %}" ></script>
    <link rel="stylesheet" type="text/css" href="{% static 'job/CSS/home.css' %}" />
{% endblock %}

{% block content %}
<div id="wrapper">
    <div id="advanced-settings-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <h1>Advanced Settings</h1>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <h1>Coming Soon</h1>
                </div>
            </div>
        </div>
    </div>
    <div id="content-wrapper">
        <div class="row">
            <div class="col-md-12">
                <form id="sort-form" action="{% url 'job:home' %}"></form>
                <div class="row">
                    <div class="col-md-4">
                        <label class="text_label" for="search_bar" >Search Jobs:</label>
                    </div>
                    <div class="col-md-4">
                        <input form="sort-form" id="search_bar" type="text" name="search" />
                    </div>
                    <div class="col-md-4">
                        <form action="{% url 'job:add_job' %}">
                            <input id="add_job" type="submit" value="Create Job" />
                        </form>
                    </div>
                </div>
                <!-- Radius -->
                <div class="row">
                    <div class="col-md-12">
                        <table class="table">
                            <tr>
                                <td><label for="location_text" >Location:&nbsp;</label></td>
                                <td><input id="location-text" type="text" form="sort-form" /></td>
                                <td><label for="location-radius">Radius:</label></td>
                                <td><input id="location-radius" type="text" size="1" name="radius" value="10" form="sort-form" /></td>
                                <td><label for="mi">mi:</label></td>
                                <td><input id="mi" type="radio" name="mi-km" value="mi" form="sort-form" checked="checked" /></td>
                                <td><label for="km">km:</label></td>
                                <td><input id="km" type="radio" name="mi-km" value="km" form="sort-form" /></td>
                                <td>Jobs found:</td>
                                <td><span id="num-jobs-found">0</span></td>
                            </tr>
                        </table>
                    </div>
                </div>
                <!-- End Radius -->

                <!-- Job table -->
                <div id="row-table" class="row">
                    <div id="table-border" class="col-md-12">
                        <table id="main_table" class="table">
                            <thead>
                                <tr>
                                    <input id="sort-by" type="hidden" value="{{ sort_by }}" form="sort-form" name="sort-by" />
                                    <th id="name" class="sort">Name</th>
                                    <th id="created" class="sort">Created</th>
                                    <th id="pledged" class="sort">Pledged</th>
                                    <th id="workers" class="sort">Workers</th>
                                </tr>
                            </thead>
                            <tbody id="main_table_body">
                                {% for job in jobs %}
                                <tr>
                                    <td><a href="{% url 'job:detail' job.random_string %}">{{ job.name }}</a></td>
                                    <td>{{ job.creation_date }}</td>
                                    <td>{{ job.money_pledged }}</td>
                                    <td> {{ job.num_workers }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- End job table -->
            </div>
        </div>
    </div>
</div>
{% endblock %}
